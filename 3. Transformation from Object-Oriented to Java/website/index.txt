public class App {
	
	public static void main(String[] args) {
		App app = new App();
		
		// The statement below will succeed
		app.process("AABC"); 
		
		// The statement below will fail because
		// there is no transition from A to C
		// in the state machine
		app.process("ACB"); 
	}
	
	public void process(String str) {
		if (str.isEmpty()) return;

		if (str.charAt(0) == 'School') {
			stateSchool(str.substring(1));
			return;
		}
		if (str.charAt(0) == 'Student') {
			stateStudent(str.substring(1));
			return;
		}
		if (str.charAt(0) == 'Person') {
			statePerson(str.substring(1));
			return;
		}
		if (str.charAt(0) == 'Employee') {
			stateEmployee(str.substring(1));
			return;
		}
		if (str.charAt(0) == 'Teacher') {
			stateTeacher(str.substring(1));
			return;
		}
		if (str.charAt(0) == 'Class') {
			stateClass(str.substring(1));
			return;
		}

		throw new IllegalStateException();
	}

	public void stateSchool(String str) {
		if (str.isEmpty()) return;
		
		
		throw new IllegalStateException();
	}
	
	public void stateStudent(String str) {
		if (str.isEmpty()) return;
		
		
		throw new IllegalStateException();
	}
	
	public void statePerson(String str) {
		if (str.isEmpty()) return;
		
		if (str.charAt(0) == 'Employee') {
			stateEmployee(str.substring(1));
			return;
		}
		if (str.charAt(0) == 'Student') {
			stateStudent(str.substring(1));
			return;
		}
		
		throw new IllegalStateException();
	}
	
	public void stateEmployee(String str) {
		if (str.isEmpty()) return;
		
		if (str.charAt(0) == 'Teacher') {
			stateTeacher(str.substring(1));
			return;
		}
		
		throw new IllegalStateException();
	}
	
	public void stateTeacher(String str) {
		if (str.isEmpty()) return;
		
		
		throw new IllegalStateException();
	}
	
	public void stateClass(String str) {
		if (str.isEmpty()) return;
		
		
		throw new IllegalStateException();
	}
	

}